
<%= partial("header.html") %>
<div class="container-fluid mb-5">
    <div class="row d-flex align-items-center">
        <div class="col-2 d-flex justify-content-start ps-5 ">
            <div>
                <div>
                    <%= form({action: tableCompletePath(), method: "GET"}) { %>

                        <div class="input-group">
                            <%= f.InputTag({name:"name" , class: "form-control rounded", placeholder: "Search Name"}) %>
                    
                          </div>
                    <% } %>
                </div>
            </div>
        </div>
        <div class="col-8 ">
            <%= form({action: tableCompletePath(), method: "GET"}) { %>
            <div class="d-flex">
                 <%= f.InputTag({name:"date" , class: "form-control rounded", type:"date"}) %>
                 <button type="submit" class="btn btn-primary">Search</button>
            </div>
            <% } %>
        </div>

        <div class="col-2 text-end ">
            <a href="/new-task" class="btn bg-blue-ligth fs-4 py-3 me-5 px-5 text-white"> 
                    Add Task
            </a>
        </div>

       
</div>
</div>
<div class="container-fluid px-5 ">
    <table class="table bg-white shadow">
        <thead class="bg-blue-dark text-white">
            <tr>
                <th class="text-center" scope="col">Status</th>
                <th class="text-center" scope="col">Task</th>
                <th class="text-center" scope="col">Created At</th>
                <th class="text-center" scope="col">Finished At</th>
                <th class="text-center" scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            <%= for (task) in tasks { %>
               
            <tr>


                <td class="text-center"> <%= linkTo( uncheckPath ({ task_id: task.ID }), {class: "fa-regular fa-circle-xmark fs-5 text-dark text-decoration-none" }) %></td>
                <td class="text-center">
                    <%= linkTo(tableCompletePath({task_id: task.ID}), {class: "text-decoration-none text-dark"}) { %>
                        <%= task.Name %>
                        <% } %>
                </td>
                <td class="text-center"><%= task.CreatedAt.Format("02 January 2006") %>  </td>
                <td class="text-center"><%= task.FinishedAt.Time.Format("02 January 2006") %></td>
                <td class="text-center"><%= linkTo( deletePath({ task_id: task.ID }), {class: "fa-solid fa-trash text-danger fs-5 text-decoration-none", "data-confirm": "Are you sure?"}) %>
                </td>
                
                 
               
            </tr>
               
            <% } %>
        </tbody>
    </table>
</div>

<%= partial("info.html") %>